(this.webpackJsonpfreqtrade=this.webpackJsonpfreqtrade||[]).push([[0],{115:function(e,t,a){e.exports={root:"App_root__ByUv-",outer_container:"App_outer_container__pDP0V",page_container:"App_page_container__2LHbY"}},116:function(e,t,a){e.exports={pie_container:"BalancePanel_pie_container__QuEqC",list_container:"BalancePanel_list_container__3VtFC"}},192:function(e,t,a){},333:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(82),c=a.n(o),s=(a(192),a(37)),i=a.n(s),l=a(84),u=a(23),p=a(115),d=a.n(p),f=a(94),j=a(17),m=a(161),b=a(2),h=function(e){return Object(b.jsx)("div",{style:Object.assign({display:"flex",flexDirection:"column",backgroundColor:"#191919",border:"1px solid #2a2a2a",borderRadius:15,padding:10,alignItems:"center"},e.style),children:e.children})},x=a(159),_=a(160),O=function(){function e(){Object(x.a)(this,e)}return Object(_.a)(e,null,[{key:"Round",value:function(e,t){return Math.round((e+Number.EPSILON)*Math.pow(10,t))/Math.pow(10,t)}},{key:"GetPosNegColor",value:function(e){return e>0?"#3d3":e<0?"#f55":void 0}},{key:"GetPartialGradient",value:function(e,t,a){return{r:Math.round(e.r+(t.r-e.r)*a),g:Math.round(e.g+(t.g-e.g)*a),b:Math.round(e.b+(t.b-e.b)*a)}}},{key:"clone",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"Duration",value:function(e){function t(e){return e>=10?e:"0".concat(e)}var a=Math.floor(e/1e3%60),n=Math.floor(e/1e3/60%60),r=Math.floor(e/1e3/60/60%24),o=Math.floor(e/1e3/60/60/24%(365/12)),c=Math.floor(e/1e3/60/60/24/(365/12)%12),s=Math.floor(e/1e3/60/60/24/365),i="";return s>0?i="".concat(s,"y").concat(c>0?t(c)+"m":""):c>0?i="".concat(c,"m").concat(o>0?t(o)+"d":""):o>0?i="".concat(o,"d").concat(r>0?t(r)+"h":""):r>0?i="".concat(r,"h").concat(n>0?t(n)+"m":""):n>0?i="".concat(n,"m").concat(a>0?t(a)+"s":""):a>0&&(i="".concat(a,"s")),i}}]),e}(),v=a(116),y=a.n(v),g=function(e){var t=e.api,a=t.balance,n=t.closed,r=t.open,o=t.profit,c=[],s=[],i=0,l="";if(a&&n&&r&&o){a.currencies.sort((function(e,t){return e.est_stake<t.est_stake?1:e.est_stake>t.est_stake?-1:0}));var u=a.currencies.filter((function(e){return e.est_stake>.01*a.total})).length;a.currencies.forEach((function(e,t){if(t<u){var a=t/u,n=O.GetPartialGradient({r:66,g:194,b:244},{r:134,g:65,b:244},a);c.push({value:e.est_stake,color:"rgb(".concat(n.r,", ").concat(n.g,", ").concat(n.b,")")})}else t===u?c.push({value:e.est_stake,color:"#EAECEF"}):c[u-1].value+=e.est_stake})),s=a.currencies,i=a.total,l=a.stake}return Object(b.jsxs)(h,{style:e.style,children:[Object(b.jsxs)("div",{className:y.a.pie_container,children:[Object(b.jsx)(m.PieChart,{startAngle:-90,lineWidth:20,data:c}),Object(b.jsxs)("div",{className:"center_info_container",children:[Object(b.jsx)("span",{style:{position:"absolute",top:"calc(50% - 30px)",left:"50%",transform:"translateX(-50%) translateY(-50%)"},className:"secondary",children:"Total balance"}),Object(b.jsx)("span",{style:{fontSize:40,lineHeight:1},children:i.toFixed(2)}),Object(b.jsx)("span",{style:{position:"absolute",top:"calc(50% + 28px)",left:"50%",transform:"translateX(-50%) translateY(-50%)"},className:"secondary",children:l})]})]}),Object(b.jsx)("div",{className:y.a.list_container,children:s.map((function(e,t){return Object(b.jsxs)("div",{className:"entry",children:[Object(b.jsx)("div",{className:"color",style:{backgroundColor:t<c.length?c[t].color:"#EAECEF"}}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexGrow:1},children:[Object(b.jsx)("span",{children:e.currency}),Object(b.jsx)("span",{children:O.Round(e.balance,4)})]})]},e.currency)}))})]})},N=a(334),T=a(338),k=a(182),C=a(178),M=a(177),D=a(74),w=a(91),R=a.n(w),P=a(44),E=a.n(P);function A(e){var t,a=Date.now()-(null!==(t=e.close_timestamp)&&void 0!==t?t:e.open_timestamp),n=Math.floor(a/1e3),r=Math.floor(n/60),o=Math.floor(r/60),c=Math.floor(o/24),s=Math.floor(c/7),i=Math.floor(c/(365/12)),l=Math.floor(c/365),u="";return l>=1?u="".concat(l,"y"):i>=1?u="".concat(i,"mo"):s>=1?u="".concat(s,"w"):c>=1?u="".concat(c,"d"):o>=1?u="".concat(o,"h"):r>=1?u="".concat(r,"m"):n>=1&&(u="".concat(n,"s")),Object.assign({time_formatted:u},e)}var F=function(e){var t=e.api,a=t.balance,n=t.closed,r=t.open,o=t.profit,c=[],s=[],i="";if(a&&n&&r&&o){var l=a.total-o.profit_all_coin,u=[l,l];n.sort((function(e,t){return e.close_timestamp>t.close_timestamp?1:e.close_timestamp<t.close_timestamp?-1:0})),r.sort((function(e,t){return e.open_timestamp<t.open_timestamp?1:e.open_timestamp>t.open_timestamp?-1:0})),c.push({x:n[0].open_timestamp,y:l}),n.forEach((function(e,t){l+=e.profit_abs,c.push({x:e.close_timestamp,y:l}),l<u[0]&&(u[0]=l),l>u[1]&&(u[1]=l)})),r.length>0&&(r.forEach((function(e){l+=e.profit_abs})),c.push({x:Date.now(),y:l}),l<u[0]&&(u[0]=l),l>u[1]&&(u[1]=l)),r.forEach((function(e){return s.push(A(e))})),n.reverse().forEach((function(e){return s.push(A(e))})),u[0]=Math.ceil(u[0]),u[1]=Math.ceil(u[1]),i=a.stake}return Object(b.jsxs)(h,{style:e.style,children:[Object(b.jsx)("div",{className:R.a.graph,children:Object(b.jsxs)(N.a,{width:578,height:250,data:c,margin:{top:5,right:20,bottom:5,left:0},children:[Object(b.jsx)(T.a,{stroke:"#2a2a2a"}),Object(b.jsx)(k.a,{type:"monotone",dataKey:"y",stroke:"#42c2f4",strokeWidth:2,isAnimationActive:!1,dot:!1}),Object(b.jsx)(C.a,{orientation:"right",tickCount:10,domain:["dataMin","dataMax"],scale:"linear",allowDecimals:!1}),Object(b.jsx)(M.a,{dataKey:"x",scale:"time",tickFormatter:function(e){return E()(e).format("D MMM")}}),Object(b.jsx)(D.a,{contentStyle:{backgroundColor:"#2a2a2a",borderColor:"#2f2f2f"},allowEscapeViewBox:{x:!0,y:!0},formatter:function(e,t,a){return[e.toFixed(2),"Balance"]},labelFormatter:function(e){return E()(e).format("D MMM")}})]})}),Object(b.jsxs)("div",{className:R.a.list_header,children:[Object(b.jsx)("span",{children:"Pair"}),Object(b.jsx)("span",{children:"Amount"}),Object(b.jsx)("span",{children:"Profit (pct)"}),Object(b.jsxs)("span",{children:["Profit (",i,")"]}),Object(b.jsx)("span",{children:"Time"})]}),Object(b.jsx)("div",{className:R.a.list_container,children:s.map((function(t){return Object(b.jsxs)("div",{className:"entry",onClick:function(a){return e.setCurrentTrade(t.trade_id)},children:[Object(b.jsx)("span",{style:{color:t.is_open?"#3d3":void 0},children:t.pair}),Object(b.jsx)("span",{children:O.Round(t.amount,2)}),Object(b.jsxs)("span",{style:{color:O.GetPosNegColor(t.profit_pct)},children:[t.profit_pct>0?"+":"",t.profit_pct.toFixed(2),"%"]}),Object(b.jsxs)("span",{style:{color:O.GetPosNegColor(t.profit_abs)},children:[t.profit_abs>0?"+":"",t.profit_abs.toFixed(2)]}),Object(b.jsx)("span",{children:t.time_formatted})]},t.trade_id)}))})]})},S=a(171),H=a(93),Y=a.n(H),G=a(89),I=a.n(G),B=function(e){var t=r.a.useState({graph:[],openRefDot:null,closeRefDot:null,info_points:[]}),a=Object(u.a)(t,2),n=a[0],o=a[1];return r.a.useEffect((function(){var t=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.binance.com/api/v3/klines?symbol=".concat(t.pair.replace("/",""))+"&interval=5m"+"&startTime=".concat(t.open_timestamp-72e6)+"&endTime=".concat((null!==(a=t.close_timestamp)&&void 0!==a?a:Date.now())+72e6)+"&limit=1000");case 2:return r=e.sent,e.next=5,r.json();case 5:c=e.sent,o({graph:c.map((function(e){return{x:e[6],y:Number.parseFloat(e[4])}})),openRefDot:{x:t.open_timestamp,y:t.open_rate},closeRefDot:t.is_open?null:{x:t.close_timestamp,y:t.close_rate},info_points:[{label:"CRYPTOCURRENCY",value:t.pair.split("/")[0]},{label:"PROFIT (PCT)",value:"".concat(t.profit_pct>0?"+":"").concat(t.profit_pct.toFixed(2),"%"),color:O.GetPosNegColor(t.profit_pct)},{label:"PROFIT (".concat(t.pair.split("/")[1],")"),value:"".concat(t.profit_abs>0?"+":"").concat(t.profit_abs.toFixed(2)),color:O.GetPosNegColor(t.profit_abs)},{label:"OPEN",value:"".concat(E()(t.open_timestamp).format("MM/DD/YYYY HH:mm")),font:24},{label:"DURATION",value:O.Duration((null!==(n=t.close_timestamp)&&void 0!==n?n:Date.now())-t.open_timestamp)},{label:"CLOSE",value:t.is_open?"OPEN":"".concat(E()(t.close_timestamp).format("MM/DD/YYYY HH:mm")),font:24},{label:"HIGH",value:O.Round(t.max_rate,6)},{label:"LOW",value:O.Round(t.min_rate,6)},{label:"AMOUNT",value:O.Round(t.amount,2)}]});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(e.currentTrade&&e.api){var a=e.api.closed.filter((function(t){return t.trade_id==e.currentTrade}));a.length>0&&(a=a[0]),0==a.length&&(a=e.api.open.filter((function(t){return t.trade_id==e.currentTrade}))[0]),a&&0!=a.length&&t(a)}}),[e.api,e.currentTrade]),Object(b.jsxs)(h,{style:Object.assign(e.style,{position:"relative"}),children:[Object(b.jsx)("div",{className:Y.a.close_button,onClick:function(t){return e.setCurrentTrade(null)}}),Object(b.jsx)("div",{className:Y.a.graph,children:Object(b.jsxs)(N.a,{width:578,height:250,data:n.graph,margin:{top:5,right:20,bottom:5,left:0},children:[Object(b.jsx)(T.a,{stroke:"#2a2a2a"}),Object(b.jsx)(k.a,{type:"monotone",dataKey:"y",stroke:"#42c2f4",strokeWidth:2,isAnimationActive:!1,dot:!1}),Object(b.jsx)(C.a,{orientation:"right",tickCount:10,domain:["dataMin","dataMax"],scale:"linear"}),Object(b.jsx)(M.a,{dataKey:"x",scale:"time",tickFormatter:function(e){return E()(e).format("HH:mm")}}),n.openRefDot&&Object(b.jsx)(S.a,{x:n.openRefDot.x,y:n.openRefDot.y,r:5,fill:"#0f0",stroke:"none"}),n.closeRefDot&&Object(b.jsx)(S.a,{x:n.closeRefDot.x,y:n.closeRefDot.y,r:5,fill:"#f00",stroke:"none"}),Object(b.jsx)(D.a,{contentStyle:{backgroundColor:"#2a2a2a",borderColor:"#2f2f2f"},allowEscapeViewBox:{x:!0,y:!0},formatter:function(e,t,a){return[e.toFixed(6),"Close"]},labelFormatter:function(e){return E()(e).format("HH:mm")}})]})}),Object(b.jsx)("div",{className:Y.a.info_container,children:n.info_points&&n.info_points.map((function(e,t){return Object(b.jsxs)("div",{className:"info",children:[Object(b.jsx)("span",{className:"label",children:e.label}),Object(b.jsx)("div",{style:{display:"flex",height:"100%",justifyContent:"center",alignItems:"center"},children:Object(b.jsx)("span",{className:"value",style:{color:e.color,fontSize:e.font},children:e.value})})]},t)}))})]})},z=function(e){return Object(b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"350px 600px",gridTemplateRows:"600px",columnGap:30,gridTemplateAreas:"'bal trades'"},children:[Object(b.jsx)(g,{style:{gridArea:"bal"},api:O.clone(e.api)}),Object(b.jsx)(F,{style:{gridArea:"trades"},api:O.clone(e.api),setCurrentTrade:e.setCurrentTrade}),Object(b.jsx)(B,{style:{gridArea:"trades",zIndex:999,visibility:e.currentTrade?"visible":"hidden"},currentTrade:e.currentTrade,setCurrentTrade:e.setCurrentTrade,api:O.clone(e.api)})]})},L=a(179),W=a.n(L),J=(a(330),0),K=function(e){var t=r.a.useState(null),a=Object(u.a)(t,2),n=a[0],o=a[1],c=r.a.useState({instances:[],balance:!1,closed:!1,open:!1,profit:!1}),s=Object(u.a)(c,2),p=s[0],m=s[1];r.a.useEffect((function(){h();var e=I.a.every(1e3,(function(){return h()}));return function(){return I.a.stop(e)}}),[]);var h=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/all?instance=".concat(J));case 3:return t=e.sent,e.next=6,t.json();case 6:(a=e.sent)&&m({instances:a.instances,balance:a.balance,closed:a.closed,open:a.open,profit:a.profit}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)(f.a,{children:Object(b.jsxs)("div",{className:d.a.outer_container,children:[Object(b.jsxs)("div",{className:"menu",children:[Object(b.jsx)(f.b,{className:"menuitem wallet",exact:!0,to:"/"}),Object(b.jsx)(f.b,{className:"menuitem stats",to:"/stats"})]}),Object(b.jsx)("div",{className:d.a.page_container,children:Object(b.jsxs)("div",{style:{display:"grid",gridTemplateRows:"auto auto auto",gridTemplateColumns:"auto",gridTemplateAreas:"'header' 'instance' 'content'"},children:[Object(b.jsxs)("div",{className:"instance",children:[Object(b.jsx)("div",{className:"icon"}),Object(b.jsx)(W.a,{className:"instance_select",options:p.instances.map((function(e,t){return{label:e,value:t}})),onChange:function(e){o(null),J=e.value,h()},value:p.instances[0]||""})]}),Object(b.jsxs)(j.a,{exact:!0,path:"/",children:[Object(b.jsx)("span",{className:"header",children:"DASHBOARD"}),Object(b.jsx)(z,{api:p,currentTrade:n,setCurrentTrade:o})]}),Object(b.jsx)(j.a,{exact:!0,path:"/stats",children:Object(b.jsx)("span",{className:"header",children:"STATISTICS"})})]})})]})})};c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(K,{})}),document.getElementById("root"))},91:function(e,t,a){e.exports={graph:"TradeOverviewPanel_graph__1TgzR",list_header:"TradeOverviewPanel_list_header__8z2LL",list_container:"TradeOverviewPanel_list_container__2dOap"}},93:function(e,t,a){e.exports={close_button:"TradeDetailPanel_close_button__3WhMo",graph:"TradeDetailPanel_graph__1Olzu",info_container:"TradeDetailPanel_info_container__1kCjR"}}},[[333,1,2]]]);
//# sourceMappingURL=main.c0ed192d.chunk.js.map